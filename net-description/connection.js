// @flow strict
/*:: import type { Cast } from '@lukekaalim/cast'; */
/*:: import type { Resource } from './resource.js'; */

/*::
export type Connection<ServerEvent = any, ClientEvent = any, Query = any> = {|
  query: Query,
  server: ServerEvent,
  client: ClientEvent,
|};


export type ConnectionDescription<T: Connection<>> = {|
  path: string,
  subprotocol?: string,

  castQuery?:       Cast<T['query']>,
  castServerMessage?: Cast<T['server']>,
  castClientMessage?: Cast<T['client']>,
|};
*/
